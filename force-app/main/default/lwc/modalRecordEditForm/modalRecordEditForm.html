<template>
  <div if:true={showmodal}>
  <div if:true={showspinner}>
    <div class="exampleHolder">
        <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
    </div>
    </div>
  <lightning-modal-header label={titleheader}></lightning-modal-header>
  <lightning-modal-body>
    <template if:true={errors}>
      <div class="slds-notify slds-notify_alert slds-alert_error">
        {errors}
      </div>
    </template>
    <div if:false={showEdit}>
     <div class="slds-p-around_medium">
        <!-- Heading -->
        <!-- <h2 class="slds-text-heading_medium slds-text-color_success slds-m-bottom_small">
            Set Date and Time Ranges
        </h2> -->

        <!-- Input fields in a single row -->
        <div class="slds-grid slds-gutters slds-wrap">
            <lightning-input type="datetime-local" label="Start Date"
                value={startInputDate}
                onchange={handleStartDateChange}
                class="slds-col slds-size_1-of-3">
            </lightning-input>

            <lightning-input type="datetime-local" label="End Date"
                value={endInputDate}
                onchange={handleEndDateChange}
                class="slds-col slds-size_1-of-3">
            </lightning-input>

            <lightning-input type="datetime-local" label="Max End Time Extension"
                value={maxInputDate}
                onchange={handleMaxDateChange}
                class="slds-col slds-size_1-of-3">
            </lightning-input>
        </div>
    </div>
	<lightning-record-form object-api-name={objectName} columns="2" fields={Fields} onsubmit={handleSubmit} mode="edit"
		record-id={recId} onerror={handleError} onsuccess={closePopupSuccess} oncancel={closePopup}>
	</lightning-record-form>
   <template if:true={hasError}>
     <center>
        <div class="slds-notify slds-notify_toast slds-theme_error custom-align-center">
            <span class="slds-assistive-text">Error</span>
            <span class="slds-icon_container slds-icon-utility-error slds-m-right_small slds-no-flex slds-align-top" title="Description of icon when needed">
                <lightning-icon icon-name="utility:error" alternative-text="Error" size="small"></lightning-icon>
            </span>
            <div class="slds-notify__content">
                <h2 class="slds-text-heading_small">An error occurred: {errorMessage}</h2>
            </div>
        </div>
     </center>
    </template>
</div>
  </lightning-modal-body>
  </div>
</template>